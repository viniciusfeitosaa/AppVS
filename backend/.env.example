# Ambiente
NODE_ENV=production

# Porta (Render define automaticamente a variável PORT)
PORT=3001

# Banco de Dados PostgreSQL (Supabase no Render)
# 1) No Supabase: Project Settings → Database → verifique se o projeto NÃO está pausado.
# 2) Use Connection pooling (Session OU Transaction). Adicione sslmode=require e connect_timeout=30.
#
# Opção A – Session pooler (porta 5432): costuma ser mais estável do Render
# DATABASE_URL="postgresql://postgres.[REF]:[SENHA]@aws-0-[region].pooler.supabase.com:5432/postgres?sslmode=require&connect_timeout=30"
#
# Opção B – Transaction pooler (porta 6543): use pgbouncer=true
# DATABASE_URL="postgresql://postgres.[REF]:[SENHA]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true&sslmode=require&connect_timeout=30"
#
# Senha com @ # % etc.: use URL encode (ex: @ → %40).
DATABASE_URL=postgresql://usuario:senha@host:5432/nome_database?sslmode=require&connect_timeout=30

# JWT Secrets (IMPORTANTE: Gere valores aleatórios seguros!)
# Use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=sua_chave_secreta_jwt_aqui_minimo_32_caracteres
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=sua_chave_refresh_jwt_aqui_minimo_32_caracteres
JWT_REFRESH_EXPIRES_IN=7d

# Segurança
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS - Obrigatório no Render para o frontend em https://sejavivasaude.com.br
# Sem isso o navegador bloqueia as requisições. Use exatamente a origem (sem barra no final).
FRONTEND_URL=https://sejavivasaude.com.br
ALLOWED_ORIGINS=https://sejavivasaude.com.br

# Multi-tenant / Master
TENANT_DEFAULT_SLUG=seja-viva-saude
MASTER_INITIAL_EMAIL=contato@sejavivasaude.com.br
MASTER_INITIAL_NAME=Administrador Master
MASTER_INITIAL_PASSWORD=troque_essa_senha_no_deploy
